{"ast":null,"code":"import _objectSpread from \"/Users/jdh/Workgrouper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/jdh/Workgrouper/src/components/rxWorkgroupLabel.js\";\nimport React from \"react\";\nimport { ordinals } from \"../data\";\nimport { diff } from \"deep-object-diff\";\n\nvar getIntervalSymbol = function getIntervalSymbol(interval, intervalType) {\n  switch (intervalType) {\n    case \"inclusive\":\n      return \" //\".concat(interval);\n\n    case \"exclusive\":\n      return \" /\".concat(interval);\n\n    case \"none\":\n      return \"\";\n\n    default:\n      return \"\".concat(interval);\n  }\n};\n\nvar getOrdinalSymbol = function getOrdinalSymbol(sortOrder) {\n  return ordinals[sortOrder] + \".\";\n};\n\nvar groupWorksets = function groupWorksets(worksets) {\n  var groupedWorksets = [];\n  worksets.forEach(function (thisWorkset, i, arr) {\n    var prevWorkset = arr[i - 1];\n\n    if (i === 0) {\n      groupedWorksets.push([thisWorkset]);\n    } else if (areTheseThingsEqual([thisWorkset, prevWorkset])) {\n      groupedWorksets[groupedWorksets.length - 1].push(thisWorkset);\n    } else {\n      groupedWorksets.push([thisWorkset]);\n    }\n  });\n  return groupedWorksets;\n};\n\nvar areTheseThingsEqual = function areTheseThingsEqual(things) {\n  var unorderedThings = things.map(function (thing) {\n    return _objectSpread({}, thing, {\n      sortOrder: 0\n    });\n  });\n  var thingDiffs = unorderedThings.map(function (thing, i, arr) {\n    return diff(arr[0], thing);\n  });\n  var areThingsEqual = thingDiffs.every(function (thingDiff) {\n    return Object.keys(thingDiff).length === 0 && thingDiff.constructor === Object;\n  });\n  return areThingsEqual;\n}; //#region Workset Components\n\n\nvar SingleWorksetLabelWithExercise = function SingleWorksetLabelWithExercise(_ref) {\n  var workset = _ref.workset;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, workset.exercise.name, \", 1x\", workset.reps, \" @\", \" \", workset.intensity + workset.intensityUnit, \" \", getIntervalSymbol(workset.interval, workset.intervalType));\n};\n\nvar MultipleWorksetsWithoutExerciseLabel = function MultipleWorksetsWithoutExerciseLabel(_ref2) {\n  var worksets = _ref2.worksets;\n  var worksetCount = worksets.length;\n  var workset = worksets[0];\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, worksetCount, \"x\", workset.reps, \" @\", \" \", workset.intensity + workset.intensityUnit, \" \", getIntervalSymbol(workset.interval, workset.intervalType));\n};\n\nvar MultipleWorksetsWithExerciseLabel = function MultipleWorksetsWithExerciseLabel(_ref3) {\n  var worksets = _ref3.worksets;\n  var worksetCount = worksets.length;\n  var workset = worksets[0];\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, workset.exercise.name, \", \", worksetCount, \"x\", workset.reps, \" @\", \" \", workset.intensity + workset.intensityUnit, \" \", getIntervalSymbol(workset.interval, workset.intervalType));\n}; //#endregion\n//region Round Components\n\n\nvar SingleRoundSingleModeWorkgroupLabel = function SingleRoundSingleModeWorkgroupLabel(_ref4) {\n  var round = _ref4.round;\n  var worksets = round.worksets;\n  var worksetsAreEqual = areTheseThingsEqual(worksets);\n\n  if (worksetsAreEqual) {\n    return React.createElement(MultipleWorksetsWithExerciseLabel, {\n      worksets: worksets,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    });\n  } else {\n    var exerciseName = worksets[0].exercise.name;\n    var groupedWorksets = groupWorksets(worksets);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, exerciseName + \", \", groupedWorksets.map(function (worksetGroup) {\n      return React.createElement(MultipleWorksetsWithoutExerciseLabel, {\n        worksets: worksetGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      });\n    }));\n  }\n};\n\nvar MultipleRoundsSingleModeWorkgroupLabel = function MultipleRoundsSingleModeWorkgroupLabel(_ref5) {\n  var workgroup = _ref5.workgroup;\n  var rounds = workgroup.rounds;\n  var roundCount = rounds.length;\n  var round = rounds[0];\n  var worksets = round.worksets;\n  var exercise = worksets[0].exercise;\n  var worksetsAreEqual = areTheseThingsEqual(worksets);\n\n  if (worksetsAreEqual) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, exercise.name + \", \", roundCount + \" rounds\", React.createElement(MultipleWorksetsWithoutExerciseLabel, {\n      worksets: worksets,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }));\n  } else {\n    var groupedWorksets = groupWorksets(worksets);\n\n    if (worksets.length === 1) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, exercise.name + \", \", roundCount + \" rounds\", React.createElement(MultipleWorksetsWithoutExerciseLabel, {\n        worksets: worksets,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }));\n    } else {\n      var isMultiModal = worksets.map(function (ws) {\n        return ws.exercise.name;\n      }).filter(function (v, i, a) {\n        return a.indexOf(v) === i;\n      }).length !== 1;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, !isMultiModal ? exercise.name + \", \" : null, roundCount + \" rounds\", groupedWorksets.map(function (worksetGroup) {\n        return React.createElement(MultipleWorksetsExerciseLabel, {\n          worksets: worksetGroup,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        });\n      }));\n    }\n  }\n};\n\nvar MultipleRoundsMultiModeWorkgroupLabel = function MultipleRoundsMultiModeWorkgroupLabel(_ref6) {\n  var workgroup = _ref6.workgroup;\n  var rounds = workgroup.rounds;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, rounds.map(function (round, roundIndex) {\n    var groupedWorksets = groupWorksets(round.worksets);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Round \".concat(roundIndex + 1), getIntervalSymbol(round.interval, round.intervalType), groupedWorksets.map(function (worksetGroup) {\n      return worksetGroup.length === 1 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(SingleWorksetLabelWithExercise, {\n        workset: worksetGroup[0],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(MultipleWorksetsWithExerciseLabel, {\n        worksets: worksetGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }));\n    }));\n    groupedWorksets.map(function (worksetGroup) {\n      if (worksetGroup.length === 1) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, \"Round \".concat(roundIndex + 1));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, \"Round \".concat(roundIndex + 1));\n      }\n    });\n  }));\n}; //#endregion\n\n\nexport var RxWorkgroupLabel = function RxWorkgroupLabel(_ref7) {\n  var workgroup = _ref7.workgroup;\n  var rounds = workgroup.rounds,\n      note = workgroup.note;\n  var roundsCount = rounds.length;\n  var roundsAreEqual = areTheseThingsEqual(rounds);\n  var ordinalSymbol = getOrdinalSymbol(workgroup.sortOrder);\n\n  if (roundsCount === 1) {\n    return React.createElement(\"div\", {\n      className: \"mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, note ? React.createElement(\"div\", {\n      className: \"text-sm mt-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, note) : null, React.createElement(\"div\", {\n      className: \"mr-1 flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, ordinalSymbol, React.createElement(SingleRoundSingleModeWorkgroupLabel, {\n      round: rounds[0],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    })));\n  } else {\n    if (roundsAreEqual) {\n      return React.createElement(\"div\", {\n        className: \"mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, note ? React.createElement(\"div\", {\n        className: \"text-sm mt-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, note) : null, React.createElement(\"div\", {\n        className: \"flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, ordinalSymbol), React.createElement(MultipleRoundsSingleModeWorkgroupLabel, {\n        workgroup: workgroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"div\", {\n        className: \"mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, note ? React.createElement(\"div\", {\n        className: \"text-sm mt-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, note) : null, React.createElement(\"div\", {\n        className: \"flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, ordinalSymbol), React.createElement(MultipleRoundsMultiModeWorkgroupLabel, {\n        workgroup: workgroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      })));\n    }\n  }\n};","map":{"version":3,"sources":["/Users/jdh/Workgrouper/src/components/rxWorkgroupLabel.js"],"names":["React","ordinals","diff","getIntervalSymbol","interval","intervalType","getOrdinalSymbol","sortOrder","groupWorksets","worksets","groupedWorksets","forEach","thisWorkset","i","arr","prevWorkset","push","areTheseThingsEqual","length","things","unorderedThings","map","thing","thingDiffs","areThingsEqual","every","thingDiff","Object","keys","constructor","SingleWorksetLabelWithExercise","workset","exercise","name","reps","intensity","intensityUnit","MultipleWorksetsWithoutExerciseLabel","worksetCount","MultipleWorksetsWithExerciseLabel","SingleRoundSingleModeWorkgroupLabel","round","worksetsAreEqual","exerciseName","worksetGroup","MultipleRoundsSingleModeWorkgroupLabel","workgroup","rounds","roundCount","isMultiModal","ws","filter","v","a","indexOf","MultipleRoundsMultiModeWorkgroupLabel","roundIndex","RxWorkgroupLabel","note","roundsCount","roundsAreEqual","ordinalSymbol"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,QAAD,EAAWC,YAAX,EAA4B;AACpD,UAAQA,YAAR;AACE,SAAK,WAAL;AACE,0BAAaD,QAAb;;AACF,SAAK,WAAL;AACE,yBAAYA,QAAZ;;AACF,SAAK,MAAL;AACE,aAAO,EAAP;;AACF;AACE,uBAAUA,QAAV;AARJ;AAUD,CAXD;;AAaA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,SAAS,EAAI;AACpC,SAAON,QAAQ,CAACM,SAAD,CAAR,GAAsB,GAA7B;AACD,CAFD;;AAIA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,QAAQ,EAAI;AAChC,MAAIC,eAAe,GAAG,EAAtB;AACAD,EAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,WAAD,EAAcC,CAAd,EAAiBC,GAAjB,EAAyB;AACxC,QAAMC,WAAW,GAAGD,GAAG,CAACD,CAAC,GAAG,CAAL,CAAvB;;AACA,QAAIA,CAAC,KAAK,CAAV,EAAa;AACXH,MAAAA,eAAe,CAACM,IAAhB,CAAqB,CAACJ,WAAD,CAArB;AACD,KAFD,MAEO,IAAIK,mBAAmB,CAAC,CAACL,WAAD,EAAcG,WAAd,CAAD,CAAvB,EAAqD;AAC1DL,MAAAA,eAAe,CAACA,eAAe,CAACQ,MAAhB,GAAyB,CAA1B,CAAf,CAA4CF,IAA5C,CAAiDJ,WAAjD;AACD,KAFM,MAEA;AACLF,MAAAA,eAAe,CAACM,IAAhB,CAAqB,CAACJ,WAAD,CAArB;AACD;AACF,GATD;AAUA,SAAOF,eAAP;AACD,CAbD;;AAeA,IAAMO,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAE,MAAM,EAAI;AACpC,MAAMC,eAAe,GAAGD,MAAM,CAACE,GAAP,CAAW,UAAAC,KAAK;AAAA,6BAAUA,KAAV;AAAiBf,MAAAA,SAAS,EAAE;AAA5B;AAAA,GAAhB,CAAxB;AACA,MAAMgB,UAAU,GAAGH,eAAe,CAACC,GAAhB,CAAoB,UAACC,KAAD,EAAQT,CAAR,EAAWC,GAAX;AAAA,WACrCZ,IAAI,CAACY,GAAG,CAAC,CAAD,CAAJ,EAASQ,KAAT,CADiC;AAAA,GAApB,CAAnB;AAGA,MAAME,cAAc,GAAGD,UAAU,CAACE,KAAX,CACrB,UAAAC,SAAS;AAAA,WACPC,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBR,MAAvB,KAAkC,CAAlC,IAAuCQ,SAAS,CAACG,WAAV,KAA0BF,MAD1D;AAAA,GADY,CAAvB;AAIA,SAAOH,cAAP;AACD,CAVD,C,CAYA;;;AAEA,IAAMM,8BAA8B,GAAG,SAAjCA,8BAAiC,OAAiB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AACtD,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,OAAO,CAACC,QAAR,CAAiBC,IADpB,UAC8BF,OAAO,CAACG,IADtC,QAC8C,GAD9C,EAEGH,OAAO,CAACI,SAAR,GAAoBJ,OAAO,CAACK,aAF/B,EAE8C,GAF9C,EAGGjC,iBAAiB,CAAC4B,OAAO,CAAC3B,QAAT,EAAmB2B,OAAO,CAAC1B,YAA3B,CAHpB,CADF;AAOD,CARD;;AAUA,IAAMgC,oCAAoC,GAAG,SAAvCA,oCAAuC,QAAkB;AAAA,MAAf5B,QAAe,SAAfA,QAAe;AAC7D,MAAM6B,YAAY,GAAG7B,QAAQ,CAACS,MAA9B;AACA,MAAMa,OAAO,GAAGtB,QAAQ,CAAC,CAAD,CAAxB;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG6B,YADH,OACkBP,OAAO,CAACG,IAD1B,QACkC,GADlC,EAEGH,OAAO,CAACI,SAAR,GAAoBJ,OAAO,CAACK,aAF/B,EAE8C,GAF9C,EAGGjC,iBAAiB,CAAC4B,OAAO,CAAC3B,QAAT,EAAmB2B,OAAO,CAAC1B,YAA3B,CAHpB,CADF;AAOD,CAVD;;AAYA,IAAMkC,iCAAiC,GAAG,SAApCA,iCAAoC,QAAkB;AAAA,MAAf9B,QAAe,SAAfA,QAAe;AAC1D,MAAM6B,YAAY,GAAG7B,QAAQ,CAACS,MAA9B;AACA,MAAMa,OAAO,GAAGtB,QAAQ,CAAC,CAAD,CAAxB;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGsB,OAAO,CAACC,QAAR,CAAiBC,IADpB,QAC4BK,YAD5B,OAC2CP,OAAO,CAACG,IADnD,QAC2D,GAD3D,EAEGH,OAAO,CAACI,SAAR,GAAoBJ,OAAO,CAACK,aAF/B,EAE8C,GAF9C,EAGGjC,iBAAiB,CAAC4B,OAAO,CAAC3B,QAAT,EAAmB2B,OAAO,CAAC1B,YAA3B,CAHpB,CADF;AAOD,CAVD,C,CAWA;AAEA;;;AACA,IAAMmC,mCAAmC,GAAG,SAAtCA,mCAAsC,QAAe;AAAA,MAAZC,KAAY,SAAZA,KAAY;AACzD,MAAMhC,QAAQ,GAAGgC,KAAK,CAAChC,QAAvB;AACA,MAAMiC,gBAAgB,GAAGzB,mBAAmB,CAACR,QAAD,CAA5C;;AACA,MAAIiC,gBAAJ,EAAsB;AACpB,WAAO,oBAAC,iCAAD;AAAmC,MAAA,QAAQ,EAAEjC,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,MAEO;AACL,QAAMkC,YAAY,GAAGlC,QAAQ,CAAC,CAAD,CAAR,CAAYuB,QAAZ,CAAqBC,IAA1C;AACA,QAAMvB,eAAe,GAAGF,aAAa,CAACC,QAAD,CAArC;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGkC,YAAY,GAAG,IADlB,EAEGjC,eAAe,CAACW,GAAhB,CAAoB,UAAAuB,YAAY,EAAI;AACnC,aACE,oBAAC,oCAAD;AAAsC,QAAA,QAAQ,EAAEA,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD,KAJA,CAFH,CADF;AAUD;AACF,CAnBD;;AAqBA,IAAMC,sCAAsC,GAAG,SAAzCA,sCAAyC,QAAmB;AAAA,MAAhBC,SAAgB,SAAhBA,SAAgB;AAAA,MACxDC,MADwD,GAC7CD,SAD6C,CACxDC,MADwD;AAEhE,MAAMC,UAAU,GAAGD,MAAM,CAAC7B,MAA1B;AACA,MAAMuB,KAAK,GAAGM,MAAM,CAAC,CAAD,CAApB;AACA,MAAMtC,QAAQ,GAAGgC,KAAK,CAAChC,QAAvB;AAJgE,MAKxDuB,QALwD,GAK3CvB,QAAQ,CAAC,CAAD,CALmC,CAKxDuB,QALwD;AAMhE,MAAMU,gBAAgB,GAAGzB,mBAAmB,CAACR,QAAD,CAA5C;;AACA,MAAIiC,gBAAJ,EAAsB;AACpB,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGV,QAAQ,CAACC,IAAT,GAAgB,IADnB,EAEGe,UAAU,GAAG,SAFhB,EAGE,oBAAC,oCAAD;AAAsC,MAAA,QAAQ,EAAEvC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAOD,GARD,MAQO;AACL,QAAMC,eAAe,GAAGF,aAAa,CAACC,QAAD,CAArC;;AACA,QAAIA,QAAQ,CAACS,MAAT,KAAoB,CAAxB,EAA2B;AACzB,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGc,QAAQ,CAACC,IAAT,GAAgB,IADnB,EAEGe,UAAU,GAAG,SAFhB,EAGE,oBAAC,oCAAD;AAAsC,QAAA,QAAQ,EAAEvC,QAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF;AAOD,KARD,MAQO;AACL,UAAMwC,YAAY,GAChBxC,QAAQ,CACLY,GADH,CACO,UAAA6B,EAAE;AAAA,eAAIA,EAAE,CAAClB,QAAH,CAAYC,IAAhB;AAAA,OADT,EAEGkB,MAFH,CAEU,UAACC,CAAD,EAAIvC,CAAJ,EAAOwC,CAAP;AAAA,eAAaA,CAAC,CAACC,OAAF,CAAUF,CAAV,MAAiBvC,CAA9B;AAAA,OAFV,EAE2CK,MAF3C,KAEsD,CAHxD;AAKA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,CAAC+B,YAAD,GAAgBjB,QAAQ,CAACC,IAAT,GAAgB,IAAhC,GAAuC,IAD1C,EAEGe,UAAU,GAAG,SAFhB,EAGGtC,eAAe,CAACW,GAAhB,CAAoB,UAAAuB,YAAY,EAAI;AACnC,eAAO,oBAAC,6BAAD;AAA+B,UAAA,QAAQ,EAAEA,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAFA,CAHH,CADF;AASD;AACF;AACF,CA1CD;;AA4CA,IAAMW,qCAAqC,GAAG,SAAxCA,qCAAwC,QAAmB;AAAA,MAAhBT,SAAgB,SAAhBA,SAAgB;AAAA,MACvDC,MADuD,GAC5CD,SAD4C,CACvDC,MADuD;AAG/D,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,MAAM,CAAC1B,GAAP,CAAW,UAACoB,KAAD,EAAQe,UAAR,EAAuB;AACjC,QAAM9C,eAAe,GAAGF,aAAa,CAACiC,KAAK,CAAChC,QAAP,CAArC;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACY+C,UAAU,GAAG,CADzB,GAEGrD,iBAAiB,CAACsC,KAAK,CAACrC,QAAP,EAAiBqC,KAAK,CAACpC,YAAvB,CAFpB,EAGGK,eAAe,CAACW,GAAhB,CAAoB,UAAAuB,YAAY;AAAA,aAC/BA,YAAY,CAAC1B,MAAb,KAAwB,CAAxB,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,8BAAD;AAAgC,QAAA,OAAO,EAAE0B,YAAY,CAAC,CAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,GAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,iCAAD;AAAmC,QAAA,QAAQ,EAAEA,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAN6B;AAAA,KAAhC,CAHH,CADF;AAiBAlC,IAAAA,eAAe,CAACW,GAAhB,CAAoB,UAAAuB,YAAY,EAAI;AAClC,UAAIA,YAAY,CAAC1B,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACYsC,UAAU,GAAG,CADzB,EADF;AAMD,OAPD,MAOO;AACL,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACYA,UAAU,GAAG,CADzB,EADF;AAMD;AACF,KAhBD;AAiBD,GApCA,CADH,CADF;AAyCD,CA5CD,C,CA6CA;;;AAEA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,QAAmB;AAAA,MAAhBX,SAAgB,SAAhBA,SAAgB;AAAA,MACzCC,MADyC,GACxBD,SADwB,CACzCC,MADyC;AAAA,MACjCW,IADiC,GACxBZ,SADwB,CACjCY,IADiC;AAEjD,MAAMC,WAAW,GAAGZ,MAAM,CAAC7B,MAA3B;AACA,MAAM0C,cAAc,GAAG3C,mBAAmB,CAAC8B,MAAD,CAA1C;AACA,MAAMc,aAAa,GAAGvD,gBAAgB,CAACwC,SAAS,CAACvC,SAAX,CAAtC;;AACA,MAAIoD,WAAW,KAAK,CAApB,EAAuB;AACrB,WACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,IAAI,GAAG;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BA,IAA/B,CAAH,GAAgD,IADvD,EAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGG,aADH,EAEE,oBAAC,mCAAD;AAAqC,MAAA,KAAK,EAAEd,MAAM,CAAC,CAAD,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFF,CADF;AASD,GAVD,MAUO;AACL,QAAIa,cAAJ,EAAoB;AAClB,aACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGF,IAAI,GAAG;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BA,IAA/B,CAAH,GAAgD,IADvD,EAEE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuBG,aAAvB,CADF,EAEE,oBAAC,sCAAD;AAAwC,QAAA,SAAS,EAAEf,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,CADF;AASD,KAVD,MAUO;AACL,aACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGY,IAAI,GAAG;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BA,IAA/B,CAAH,GAAgD,IADvD,EAEE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuBG,aAAvB,CADF,EAEE,oBAAC,qCAAD;AAAuC,QAAA,SAAS,EAAEf,SAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,CADF;AASD;AACF;AACF,CAtCM","sourcesContent":["import React from \"react\";\nimport { ordinals } from \"../data\";\nimport { diff } from \"deep-object-diff\";\n\nconst getIntervalSymbol = (interval, intervalType) => {\n  switch (intervalType) {\n    case \"inclusive\":\n      return ` //${interval}`;\n    case \"exclusive\":\n      return ` /${interval}`;\n    case \"none\":\n      return \"\";\n    default:\n      return `${interval}`;\n  }\n};\n\nconst getOrdinalSymbol = sortOrder => {\n  return ordinals[sortOrder] + \".\";\n};\n\nconst groupWorksets = worksets => {\n  let groupedWorksets = [];\n  worksets.forEach((thisWorkset, i, arr) => {\n    const prevWorkset = arr[i - 1];\n    if (i === 0) {\n      groupedWorksets.push([thisWorkset]);\n    } else if (areTheseThingsEqual([thisWorkset, prevWorkset])) {\n      groupedWorksets[groupedWorksets.length - 1].push(thisWorkset);\n    } else {\n      groupedWorksets.push([thisWorkset]);\n    }\n  });\n  return groupedWorksets;\n};\n\nconst areTheseThingsEqual = things => {\n  const unorderedThings = things.map(thing => ({ ...thing, sortOrder: 0 }));\n  const thingDiffs = unorderedThings.map((thing, i, arr) =>\n    diff(arr[0], thing)\n  );\n  const areThingsEqual = thingDiffs.every(\n    thingDiff =>\n      Object.keys(thingDiff).length === 0 && thingDiff.constructor === Object\n  );\n  return areThingsEqual;\n};\n\n//#region Workset Components\n\nconst SingleWorksetLabelWithExercise = ({ workset }) => {\n  return (\n    <div>\n      {workset.exercise.name}, 1x{workset.reps} @{\" \"}\n      {workset.intensity + workset.intensityUnit}{\" \"}\n      {getIntervalSymbol(workset.interval, workset.intervalType)}\n    </div>\n  );\n};\n\nconst MultipleWorksetsWithoutExerciseLabel = ({ worksets }) => {\n  const worksetCount = worksets.length;\n  const workset = worksets[0];\n  return (\n    <div>\n      {worksetCount}x{workset.reps} @{\" \"}\n      {workset.intensity + workset.intensityUnit}{\" \"}\n      {getIntervalSymbol(workset.interval, workset.intervalType)}\n    </div>\n  );\n};\n\nconst MultipleWorksetsWithExerciseLabel = ({ worksets }) => {\n  const worksetCount = worksets.length;\n  const workset = worksets[0];\n  return (\n    <div>\n      {workset.exercise.name}, {worksetCount}x{workset.reps} @{\" \"}\n      {workset.intensity + workset.intensityUnit}{\" \"}\n      {getIntervalSymbol(workset.interval, workset.intervalType)}\n    </div>\n  );\n};\n//#endregion\n\n//region Round Components\nconst SingleRoundSingleModeWorkgroupLabel = ({ round }) => {\n  const worksets = round.worksets;\n  const worksetsAreEqual = areTheseThingsEqual(worksets);\n  if (worksetsAreEqual) {\n    return <MultipleWorksetsWithExerciseLabel worksets={worksets} />;\n  } else {\n    const exerciseName = worksets[0].exercise.name;\n    const groupedWorksets = groupWorksets(worksets);\n    return (\n      <div>\n        {exerciseName + \", \"}\n        {groupedWorksets.map(worksetGroup => {\n          return (\n            <MultipleWorksetsWithoutExerciseLabel worksets={worksetGroup} />\n          );\n        })}\n      </div>\n    );\n  }\n};\n\nconst MultipleRoundsSingleModeWorkgroupLabel = ({ workgroup }) => {\n  const { rounds } = workgroup;\n  const roundCount = rounds.length;\n  const round = rounds[0];\n  const worksets = round.worksets;\n  const { exercise } = worksets[0];\n  const worksetsAreEqual = areTheseThingsEqual(worksets);\n  if (worksetsAreEqual) {\n    return (\n      <div>\n        {exercise.name + \", \"}\n        {roundCount + \" rounds\"}\n        <MultipleWorksetsWithoutExerciseLabel worksets={worksets} />\n      </div>\n    );\n  } else {\n    const groupedWorksets = groupWorksets(worksets);\n    if (worksets.length === 1) {\n      return (\n        <div>\n          {exercise.name + \", \"}\n          {roundCount + \" rounds\"}\n          <MultipleWorksetsWithoutExerciseLabel worksets={worksets} />\n        </div>\n      );\n    } else {\n      const isMultiModal =\n        worksets\n          .map(ws => ws.exercise.name)\n          .filter((v, i, a) => a.indexOf(v) === i).length !== 1;\n\n      return (\n        <div>\n          {!isMultiModal ? exercise.name + \", \" : null}\n          {roundCount + \" rounds\"}\n          {groupedWorksets.map(worksetGroup => {\n            return <MultipleWorksetsExerciseLabel worksets={worksetGroup} />;\n          })}\n        </div>\n      );\n    }\n  }\n};\n\nconst MultipleRoundsMultiModeWorkgroupLabel = ({ workgroup }) => {\n  const { rounds } = workgroup;\n\n  return (\n    <div>\n      {rounds.map((round, roundIndex) => {\n        const groupedWorksets = groupWorksets(round.worksets);\n        return (\n          <div>\n            {`Round ${roundIndex + 1}`}\n            {getIntervalSymbol(round.interval, round.intervalType)}\n            {groupedWorksets.map(worksetGroup =>\n              worksetGroup.length === 1 ? (\n                <div>\n                  <SingleWorksetLabelWithExercise workset={worksetGroup[0]} />\n                </div>\n              ) : (\n                <div>\n                  <MultipleWorksetsWithExerciseLabel worksets={worksetGroup} />\n                </div>\n              )\n            )}\n          </div>\n        );\n        groupedWorksets.map(worksetGroup => {\n          if (worksetGroup.length === 1) {\n            return (\n              <div>\n                {`Round ${roundIndex + 1}`}\n                {/* <SingleWorksetLabelWithExercise workset={worksetGroup[0]} /> */}\n              </div>\n            );\n          } else {\n            return (\n              <div>\n                {`Round ${roundIndex + 1}`}\n                {/* <MultipleWorksetsWithExerciseLabel worksets={worksetGroup} /> */}\n              </div>\n            );\n          }\n        });\n      })}\n    </div>\n  );\n};\n//#endregion\n\nexport const RxWorkgroupLabel = ({ workgroup }) => {\n  const { rounds, note } = workgroup;\n  const roundsCount = rounds.length;\n  const roundsAreEqual = areTheseThingsEqual(rounds);\n  const ordinalSymbol = getOrdinalSymbol(workgroup.sortOrder);\n  if (roundsCount === 1) {\n    return (\n      <div className=\"mb-2\">\n        {note ? <div className=\"text-sm mt-1\">{note}</div> : null}\n        <div className=\"mr-1 flex\">\n          {ordinalSymbol}\n          <SingleRoundSingleModeWorkgroupLabel round={rounds[0]} />\n        </div>\n      </div>\n    );\n  } else {\n    if (roundsAreEqual) {\n      return (\n        <div className=\"mb-2\">\n          {note ? <div className=\"text-sm mt-1\">{note}</div> : null}\n          <div className=\"flex\">\n            <div className=\"mr-1\">{ordinalSymbol}</div>\n            <MultipleRoundsSingleModeWorkgroupLabel workgroup={workgroup} />\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"mb-2\">\n          {note ? <div className=\"text-sm mt-1\">{note}</div> : null}\n          <div className=\"flex\">\n            <div className=\"mr-1\">{ordinalSymbol}</div>\n            <MultipleRoundsMultiModeWorkgroupLabel workgroup={workgroup} />\n          </div>\n        </div>\n      );\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"module"}